(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{43654:function(e,t,n){Promise.resolve().then(n.bind(n,7943))},7943:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var a=n(57437),i=n(2265),r=n(93750),s=n(43226),o=n(74203),p=n(80234),u=n(63984),d=n(11898),l=n(38947),y=n(70645),m=n(38297),c=n(23380),f=n(61396),T=n.n(f),v=n(13428),b=n(20791),h=n(7216),w=n(24681),x=n(35843),C=n(87927),g=n(29872),M=n(33721),Z=n(64551);function k(e){return(0,Z.Z)("MuiCard",e)}(0,M.Z)("MuiCard",["root"]);let I=["className","raised"],j=e=>{let{classes:t}=e;return(0,w.Z)({root:["root"]},k,t)},O=(0,x.ZP)(g.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),R=i.forwardRef(function(e,t){let n=(0,C.Z)({props:e,name:"MuiCard"}),{className:i,raised:r=!1}=n,s=(0,b.Z)(n,I),o=(0,v.Z)({},n,{raised:r}),p=j(o);return(0,a.jsx)(O,(0,v.Z)({className:(0,h.Z)(p.root,i),elevation:r?8:void 0,ref:t,ownerState:o},s))});function E(e){return(0,Z.Z)("MuiCardMedia",e)}(0,M.Z)("MuiCardMedia",["root","media","img"]);let F=["children","className","component","image","src","style"],A=e=>{let{classes:t,isMediaComponent:n,isImageComponent:a}=e;return(0,w.Z)({root:["root",n&&"media",a&&"img"]},E,t)},N=(0,x.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{isMediaComponent:a,isImageComponent:i}=n;return[t.root,a&&t.media,i&&t.img]}})(({ownerState:e})=>(0,v.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),S=["video","audio","picture","iframe","img"],B=["picture","img"],L=i.forwardRef(function(e,t){let n=(0,C.Z)({props:e,name:"MuiCardMedia"}),{children:i,className:r,component:s="div",image:o,src:p,style:u}=n,d=(0,b.Z)(n,F),l=-1!==S.indexOf(s),y=!l&&o?(0,v.Z)({backgroundImage:`url("${o}")`},u):u,m=(0,v.Z)({},n,{component:s,isMediaComponent:l,isImageComponent:-1!==B.indexOf(s)}),c=A(m);return(0,a.jsx)(N,(0,v.Z)({className:(0,h.Z)(c.root,r),as:s,role:!l&&o?"img":void 0,ref:t,style:y,ownerState:m,src:l?o||p:void 0},d,{children:i}))});function P(e){return(0,Z.Z)("MuiCardContent",e)}(0,M.Z)("MuiCardContent",["root"]);let _=["className","component"],q=e=>{let{classes:t}=e;return(0,w.Z)({root:["root"]},P,t)},z=(0,x.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),D=i.forwardRef(function(e,t){let n=(0,C.Z)({props:e,name:"MuiCardContent"}),{className:i,component:r="div"}=n,s=(0,b.Z)(n,_),o=(0,v.Z)({},n,{component:r}),p=q(o);return(0,a.jsx)(z,(0,v.Z)({as:r,className:(0,h.Z)(p.root,i),ownerState:o,ref:t},s))});function U(e){return(0,Z.Z)("MuiCardActions",e)}(0,M.Z)("MuiCardActions",["root","spacing"]);let W=["disableSpacing","className"],G=e=>{let{classes:t,disableSpacing:n}=e;return(0,w.Z)({root:["root",!n&&"spacing"]},U,t)},K=(0,x.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,v.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),H=i.forwardRef(function(e,t){let n=(0,C.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:r}=n,s=(0,b.Z)(n,W),o=(0,v.Z)({},n,{disableSpacing:i}),p=G(o);return(0,a.jsx)(K,(0,v.Z)({className:(0,h.Z)(p.root,r),ownerState:o,ref:t},s))});var J=n(49050),V=e=>{let{tokenId:t}=e,{data:n,isError:i,isLoading:r,refetch:o}=(0,c.Z)(t),{level:p,lastCollected:l,chickenIds:y}=Array.isArray(n)?{level:0,lastCollected:0,chickenIds:[]}:n||{level:0,lastCollected:0,chickenIds:[]};return(0,a.jsx)(u.Z,{onClick:()=>{console.log("clicked",t)},children:(0,a.jsxs)(T(),{href:"/farm/chicken-coop?id=".concat(t),children:[r?(0,a.jsx)(d.Z,{variant:"text"}):null,i?(0,a.jsx)("div",{children:"Error"}):null,n?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(R,{sx:{maxWidth:440},children:[(0,a.jsx)(L,{sx:{height:220,width:220},image:"/chicken-coop.png",title:"green iguana"}),(0,a.jsxs)(D,{children:[(0,a.jsxs)(s.Z,{gutterBottom:!0,variant:"h5",component:"div",children:["Chicken Coop #",t]}),(0,a.jsxs)(s.Z,{variant:"body2",color:"text.secondary",children:[y.length,"/",2*p]})]}),(0,a.jsxs)(H,{children:[(0,a.jsx)(J.Z,{size:"small",children:"Share"}),(0,a.jsx)(J.Z,{size:"small",children:"Learn More"})]})]})}):null]})})},X=e=>{let{account:t}=e,{data:n,isError:i,isLoading:r,refetch:o}=function(e){let t=(0,y.Z)(m.L,m.M),n=(0,l.a)({queryKey:["ChickenCoop"],queryFn:async()=>{if(!t)return[];let n=await t.balanceOf(e);console.log("balance123",n);let a=[];for(let i=0;i<n;i++){let n=await t.tokenOfOwnerByIndex(e,i);a.push(n.toString())}return a}});return n}(t);return(0,a.jsxs)(u.Z,{children:[r?(0,a.jsx)(d.Z,{variant:"text"}):null,i?(0,a.jsx)("div",{children:"Error"}):null,n&&0===n.length?(0,a.jsx)(s.Z,{variant:"h5",color:"text.secondary",mt:0,children:"No Chicken Coops"}):null,n&&n.length>0?(0,a.jsx)(u.Z,{sx:{display:"flex",alignItems:"flex-start",gap:2,width:"100%"},children:n.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(V,{tokenId:Number(e)})},e.toString()))}):null]})};let{useAccounts:Y,useIsActive:$}=p.hooks;var Q=()=>{let e=Y(),[t,n]=(0,i.useState)(""),p=$();return(0,i.useEffect)(()=>{p&&e&&e.length>0&&n(e[0])},[p,e]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{children:(0,a.jsx)(r.Z,{maxWidth:"md",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h1",children:"Farm "}),(0,a.jsx)(s.Z,{variant:"h3",gutterBottom:!0,children:"Your Chicken Coops"}),t&&(0,a.jsx)(X,{account:t})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h1",gutterBottom:!0,children:"Welcome new farmer!"}),(0,a.jsx)(s.Z,{gutterBottom:!0,children:"Please connect your wallet to continue."})]})})})})}},23380:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(38947),i=n(70645),r=n(38297);function s(e){let t=(0,i.Z)(r.L,r.M),n=(0,a.a)({queryKey:["ChickenCoopDetail",e],queryFn:async()=>{if(!t)return[];let n=await t.coops(e);console.log("coopDetails",n);let a=await t.getChickensInCoop(e);return{level:n[0].toNumber(),lastCollected:n[1].toNumber(),chickenIds:a.map(e=>e.toNumber())}}});return n}},70645:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(9951),i=n(80234);let{useChainId:r,useAccounts:s,useIsActivating:o,useIsActive:p,useProvider:u,useENSNames:d}=i.hooks;function l(e,t){let n=u();if(!e||!t||!n)return null;try{return new a.CH(e,t,n.getSigner())}catch(e){return console.error("Failed To Get Contract",e),null}}},38297:function(e){"use strict";e.exports=JSON.parse('{"M":[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"address","name":"_chickenNFTContract","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_LEVEL","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"UPGRADE_COST","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"},{"internalType":"uint256","name":"chickenId","type":"uint256"}],"name":"addChickenToCoop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"buy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"}],"name":"collectEggsFromCoop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"coopLevelCost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"coops","outputs":[{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"lastCollected","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"}],"name":"doesCoopExist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eggCollectionFrequency","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eggsPerChicken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"}],"name":"getChickensInCoop","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintCost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"},{"internalType":"uint256","name":"chickenId","type":"uint256"}],"name":"removeChickenFromCoop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"coopId","type":"uint256"}],"name":"upgradeCoopLevel","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}],"L":"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0"}')}},function(e){e.O(0,[612,689,529,926,574,971,472,744],function(){return e(e.s=43654)}),_N_E=e.O()}]);