(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{3670:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/treasury",function(){return n(9357)}])},9357:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(5893),i=n(7294),r=n(9008),s=n.n(r),o=n(7932),u=n(5861),l=n(3372),d=n(6822),p=n(9417),y=n(4001),c=n(9285),m=n(6076),h=n(5553),f=n(1378),b=n(8240);let w=e=>{let{provider:t,account:n}=e,[r,s]=(0,i.useState)(""),o=async()=>{if(!n)return;let e=t.getSigner(),a=new m.CH(f.L,f.M,e),i=new m.CH(b.L,b.M,e),s=h.fi(r);console.log("amountToBurn test",s);try{let e=await i.approve(a.address,s);await e.wait();let t=await a.burnEggs(s);await t.wait(),console.log("Burned successfully!")}catch(e){console.error("Error burning EGGS:",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Z,{label:"Amount to Burn",value:r,onChange:e=>s(e.target.value),variant:"outlined"}),(0,a.jsx)(p.Z,{variant:"contained",color:"primary",onClick:o,children:"Burn EGGS"})]})};var g=n(381),x=n.n(g);n(3704);var v=n(7297),T=n(6829);function j(){let e=(0,v.Z)(["\n    background: url('/path-to-your-wooden-texture.jpg') no-repeat center center fixed; \n    background-size: cover;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return j=function(){return e},e}let E=T.Z.div(j()),S=e=>{let{provider:t}=e,[n,r]=(0,i.useState)(0),s=async()=>{let e=new m.CH(f.L,f.M,t),n=await e.totalAliveChickens();r(Number(n))};return(0,i.useEffect)(()=>{s()},[]),(0,a.jsxs)(E,{children:[(0,a.jsx)(u.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Total Alive Chickens:"}),(0,a.jsx)(u.Z,{variant:"h2",component:"h2",children:n}),(0,a.jsx)(p.Z,{variant:"contained",onClick:()=>s(),children:"Refresh Count"})]})};var M=n(7372);let{useChainId:Z,useAccounts:C,useIsActivating:k,useIsActive:F,useProvider:A,useENSNames:B}=M.P;function G(){let e=C(),t=A(),n=F(),[r,c]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[T,j]=(0,i.useState)(null),[E,M]=(0,i.useState)(null),[Z,k]=(0,i.useState)([]),[B,G]=(0,i.useState)(""),[_,D]=(0,i.useState)([]);async function O(){if((t||r)&&t){let e=new m.CH(f.L,f.M,t.getSigner()),n=await e.startNewCycle();await n.wait()}}async function N(){if(!t&&!r)return;let e=new m.CH(b.L,b.M,t),n=new m.CH(f.L,f.M,t),a=await e.totalSupply();console.log("totalSupply test",a=h.dF(a)),v(a);let i=await e.balanceOf(r);j(i=h.dF(i));let s=await t.getBalance(f.L);M(h.dF(s)),console.log("burnerAddresses test");let o=[],u=0;for(;;)try{let e=await n.burners(u);o.push(e),u++}catch(e){break}let l=[];for(let e of o){let t=await n.burnedEggsByUser(e);l.push({address:String(e),burnedEggs:Number(h.dF(t))})}D(l);let d=await n.nextCycleTimestamp();G(x().duration(1e3*x()(Number(d)).diff(x()().unix())).format("h [hrs], m [min], s [secs]"))}return(0,i.useEffect)(()=>{t&&e&&(null==e?void 0:e.length)>0&&c(e[0])},[e,t]),(0,i.useEffect)(()=>{r&&N()},[r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Eggspedition: The Eggciting Journey!"}),(0,a.jsx)("meta",{name:"description",content:"Embark on the ultimate eggventure in the world of web3 games."}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(o.Z,{maxWidth:"md",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{variant:"h1",children:"EGGS Treasury! "}),(0,a.jsx)(u.Z,{variant:"h5",gutterBottom:!0,children:"The EGGS Treasury is where all the commmuntiy funds are stored."}),(0,a.jsx)(l.Z,{title:"This is the total amount of eggs in the Eggspedition universe!",children:(0,a.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:["\uD83E\uDD5A Total Eggs in the Universe: ",(0,a.jsx)("strong",{children:g})]})}),(0,a.jsx)(l.Z,{title:"This is your amount of eggs!",children:(0,a.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:["\uD83E\uDD5A Your Eggs: ",(0,a.jsx)("strong",{children:T})]})}),(0,a.jsx)(S,{provider:t}),";",(0,a.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:["\uD83C\uDFE6 Treasury Balance: ",(0,a.jsxs)("strong",{children:[E," SMR"]})]}),(0,a.jsx)(w,{provider:t,account:r}),(0,a.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Burner Addresses and EGGS:"}),(0,a.jsx)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:_.map((e,t)=>(0,a.jsxs)(u.Z,{children:["Adresse: ",e.address," - burned EGGS: ",e.burnedEggs]},t))}),(0,a.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:["‚è≥ Time left for current cycle: ",(0,a.jsx)("strong",{children:B})]}),(0,a.jsx)(p.Z,{variant:"contained",color:"primary",onClick:O,children:"Start new cycle"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{variant:"h3",gutterBottom:!0,children:"Welcome new farmer!"}),(0,a.jsx)(u.Z,{variant:"body1",gutterBottom:!0,children:"Please connect your wallet to continue."})]})})})]})}},8240:function(e){"use strict";e.exports=JSON.parse('{"M":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"L":"0x610178dA211FEF7D417bC0e6FeD39F05609AD788"}')}},function(e){e.O(0,[885,10,703,294,719,772,833,774,888,179],function(){return e(e.s=3670)}),_N_E=e.O()}]);