(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7710],{178:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake/components/StakedNFTCard",function(){return t(8277)}])},861:function(e,r,t){"use strict";var n=t(5893);t(7294);var a=t(7357),c=t(5861),o=t(9417);let s=e=>{let{image:r,name:t,description:s,error:i,stakeButton:d,onUnStake:u,onHarvest:l}=e;return(0,n.jsxs)(a.Z,{sx:{bgcolor:"background.paper",borderRadius:2,boxShadow:1,minWidth:200,overflow:"hidden"},children:[r&&(0,n.jsx)(a.Z,{sx:{backgroundImage:"url(".concat(r,")"),backgroundPosition:"center center",backgroundSize:"cover",height:160}}),(0,n.jsxs)(a.Z,{sx:{p:2},children:[(0,n.jsx)(c.Z,{fontSize:20,fontWeight:700,gutterBottom:!0,children:t}),s&&(0,n.jsx)(c.Z,{children:s}),(0,n.jsxs)(a.Z,{children:[d&&d,u&&(0,n.jsx)(o.Z,{onClick:u,children:"Unstake"}),l&&(0,n.jsx)(o.Z,{onClick:l,children:"Harvest"})]}),i&&(0,n.jsx)(c.Z,{color:"error.main",children:i})]})]})};r.Z=s},8277:function(e,r,t){"use strict";t.r(r);var n=t(5893),a=t(7294),c=t(4687),o=t(1438),s=t(6076),i=t(5553),d=t(6231),u=t(861);let l=e=>{let{stakeAddress:r,nft:t}=e,{account:l,library:h}=(0,c.Ge)(),[g,k]=(0,a.useState)(""),[f,w]=(0,a.useState)(-1),[v,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(l&&h&&!v){let e=new o.Qg(h.provider),t=e.getSigner(),n=new s.CH(r,d.Mt,t);S(n)}let e=setInterval(()=>{x()},5e3);return()=>clearInterval(e)},[l,t]);let x=async()=>{try{let e=new o.Qg(h.provider),n=e.getSigner(),a=new s.CH(r,d.Mt,n),c=await a.getCurrentStakeEarned(t.tokenId);w(c.toString())}catch(e){k("❌ Error fetching earned rewards: ".concat(e.message)),console.error("Error fetching earned rewards:",e)}},E=async()=>{if(v&&t.tokenId)try{await v.unStakeNFT(t.tokenId),k("\uD83C\uDF89 Successfully unstaked NFT with ID ".concat(t.tokenId,"!"))}catch(e){k("❌ Error unstaking NFT: ".concat(e.message))}},I=async()=>{if(v)try{await v.harvest(t.tokenId),k("\uD83C\uDF89 Successfully harvested rewards for NFT with ID ".concat(t.tokenId,"!")),w(0)}catch(e){k("❌ Error harvesting rewards: ".concat(e.message)),console.error("Error harvesting rewards:",e)}};return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsx)(u.Z,{image:null==t?void 0:t.url,name:"#".concat(t.tokenId),description:"Earned: ".concat(i.dF(f)," EGGS"),onHarvest:I,onUnStake:E})})};r.default=l}},function(e){e.O(0,[5861,7739,1262,2161,6231,9774,2888,179],function(){return e(e.s=178)}),_N_E=e.O()}]);