(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{3670:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/treasury",function(){return n(1983)}])},8226:function(e,t,n){"use strict";var a=n(5893);n(7294);var s=n(6822),i=n(5861),r=n(8078);let l=e=>{let{label:t,value:n,symbol:l}=e;return(0,a.jsxs)(s.Z,{sx:o.card,children:[(0,a.jsx)(i.Z,{color:"text.secondary",fontSize:14,mt:0,children:t}),(0,a.jsxs)(s.Z,{sx:o.wrapper,children:[(0,a.jsx)(i.Z,{variant:"h6",my:0,mr:1,children:n?n.split(".")[0]:(0,a.jsx)(r.Z,{width:60})}),(0,a.jsx)(i.Z,{fontWeight:700,fontSize:12,color:"text.secondary",children:l})]})]})},o={container:{width:"100%",display:"flex",marginBottom:"30px",gap:2},card:{bgcolor:"background.paper",p:2,flex:1,borderRadius:2,boxShadow:1},wrapper:{display:"flex",alignItems:"flex-end"}};t.Z=l},1983:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var a=n(5893),s=n(7294),i=n(9008),r=n.n(i),l=n(7932),o=n(5861),u=n(6822),d=n(9417),p=n(4001),y=n(8240),c=n(1378),m=n(6076),h=n(5553),x=n(381),f=n.n(x);n(3704);var b=n(7372),w=n(8226);let{useChainId:g,useAccounts:v,useIsActivating:j,useIsActive:T,useProvider:Z,useENSNames:C}=b.P;function M(){let e=v(),t=Z(),n=T(),[i,x]=(0,s.useState)(!0),[b,g]=(0,s.useState)(""),[j,C]=(0,s.useState)("0"),[M,S]=(0,s.useState)(null),[k,D]=(0,s.useState)(null),[E,N]=(0,s.useState)(null),[B,F]=(0,s.useState)("");async function O(){if(x(!0),(t||b)&&t){let e=new m.CH(c.L,c.M,t.getSigner()),n=await e.startNewCycle();await n.wait(),x(!1)}}async function _(){if(console.log("claimRewards test"),!t&&!b)return;let e=new m.CH(c.L,c.M,null==t?void 0:t.getSigner()),n=await e.withdrawRewards();await n.wait()}async function R(){if(x(!0),!t&&!b)return;new m.CH(y.L,y.M,t);let e=new m.CH(c.L,c.M,t),n=await e.totalAliveChickens();console.log("totalChickenSupply test",n),S(n.toString());let a=await e.pendingRewards(b);C(h.dF(a));let s=await e.walletOfOwner(b),i=[];for(let t=0;t<s.length;t++){let n=s[t],a=await e.getChickenDetails(n);console.log("chickenInfo test",a),!1==a.isDead&&i.push(n)}N(i);let r=await e.treasury();console.log("Treasury value:",h.dF(r)),D(h.dF(r));let l=await e.nextCycleTimestamp();f().duration(1e3*f()(Number(l)).diff(f()().unix())).format("h [hrs], m [min], s [secs]"),F(l),x(!1)}return(0,s.useEffect)(()=>{t&&e&&(null==e?void 0:e.length)>0&&g(e[0])},[e,t]),(0,s.useEffect)(()=>{b&&R()},[b]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Eggspedition: The Eggciting Journey!"}),(0,a.jsx)("meta",{name:"description",content:"Embark on the ultimate eggventure in the world of web3 games."}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(l.Z,{maxWidth:"md",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{variant:"h1",children:"EGGS Treasury! "}),(0,a.jsx)(o.Z,{gutterBottom:!0,mb:2,children:"The EGGS Treasury rewards active players every day."}),!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{sx:{justifyContent:"center",alignItems:"center"},children:0>=f()(Number(B)).diff(f()().unix())?(0,a.jsxs)(u.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:[(0,a.jsx)(o.Z,{variant:"body1",gutterBottom:!0,children:"\uD83C\uDF89 Start the new cycle and become some shares of the treasury!"}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",onClick:O,children:"Start new cycle"})]}):(0,a.jsxs)(u.Z,{sx:{my:4},children:["⏳ Time left for current cycle:"," ",(0,a.jsx)("strong",{children:f().duration(1e3*f()(Number(B)).diff(f()().unix())).format("h [hrs], m [min], s [secs]")})]})}),(0,a.jsxs)(u.Z,{sx:{display:"flex",gap:4,flexWrap:"wrap",mb:4},children:[(0,a.jsx)(u.Z,{sx:{flex:1},children:(0,a.jsx)(w.Z,{label:" \uD83D\uDC14 Current Alive Chicken Supply",value:M,symbol:"Chickens"})}),(0,a.jsx)(u.Z,{sx:{flex:1},children:(0,a.jsx)(w.Z,{label:"\uD83C\uDFE6 Treasury Balance",value:k,symbol:"SMR"})})]}),(0,a.jsxs)(u.Z,{sx:{display:"flex",gap:4,flexWrap:"wrap",mb:4},children:[(0,a.jsxs)(u.Z,{sx:{flex:1},children:[(0,a.jsx)(w.Z,{label:" Claimable rewards",value:j,symbol:"SMR"}),(0,a.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"position"},children:Number(j)>0&&(0,a.jsx)(d.Z,{sx:{width:"50%"},variant:"contained",color:"primary",onClick:()=>_(),children:"Claim Rewards"})})]}),(0,a.jsx)(u.Z,{sx:{flex:1},children:(0,a.jsx)(w.Z,{label:"Your Next estimated rewards",value:(()=>{if(!k||!E)return 0;let e=Number(E.length)+1;console.log("Number(aliveUserChickens.length)",Number(E.length)),console.log("x test",e),console.log("Number(treasuryBalance)",Number(k));let t=.8*Number(k)/e;return t})().toString(),symbol:"SMR"})})]}),(0,a.jsxs)(u.Z,{sx:{display:"flex",gap:4,flexWrap:"wrap",mb:4},children:[(0,a.jsx)(o.Z,{variant:"h5",gutterBottom:!0,children:"\uD83D\uDCB0 How it works"}),(0,a.jsx)(o.Z,{variant:"body1",gutterBottom:!0,children:"Every time SMR tokens dance into the EGG-osystem, they feed into the grand treasury."}),(0,a.jsxs)(o.Z,{variant:"body1",gutterBottom:!0,children:["A whopping ",(0,a.jsx)("strong",{children:"80%"})," of this glistening trove is graciously shared amongst the"," ",(0,a.jsx)("strong",{children:"active players"}),", raining down on them daily. But, the benevolence doesn't stop there! Retains a precious ",(0,a.jsx)("strong",{children:"20%"}),", which is then elegantly divided:"]}),(0,a.jsx)(o.Z,{variant:"body1",gutterBottom:!0,children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["\uD83C\uDFAE Half is channeled into the game's"," ",(0,a.jsx)("strong",{children:"Development Treasury"})," ensuring the world of EGG-osystem keeps evolving."]}),(0,a.jsxs)("li",{children:["\uD83C\uDF0D The other half seeds the"," ",(0,a.jsx)("strong",{children:"Community Treasury"}),", which not only fuels the game but also breathes life into real-world sustainable farm projects. Because here here, fantasy meets reality and we all do a positive impact on the world."]})]})})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{variant:"h3",gutterBottom:!0,children:"Welcome new farmer!"}),(0,a.jsx)(o.Z,{variant:"body1",gutterBottom:!0,children:"Please connect your wallet to continue."})]})})})]})}},8240:function(e){"use strict";e.exports=JSON.parse('{"M":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"L":"0x477575a17a5a63F262Ae3957ab9DA951b90Eb000"}')}},function(e){e.O(0,[885,10,444,294,730,833,774,888,179],function(){return e(e.s=3670)}),_N_E=e.O()}]);