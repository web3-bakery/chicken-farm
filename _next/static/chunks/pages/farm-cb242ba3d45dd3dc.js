(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8106],{8526:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farm",function(){return n(6486)}])},6486:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i=n(5893),a=n(7294),s=n(9008),r=n.n(s),o=n(3156),l=n(5861),u=n(1383),d=n(7357),c=n(9267),p=n(1438),y=n(6076),m=n(5553),h=n(4687),x=n(8456),g=n(9417),f=n(5568),w=n(1378),b=JSON.parse('{"M":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"L":"0x957CDcD861b4FaF0664396D1B3827Ab1fA0F0A60"}');let v=()=>{let[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(""),[r,o]=(0,a.useState)(!1),{account:u,library:c}=(0,h.Ge)();(0,a.useEffect)(()=>{if(c&&u){let e=new p.Qg(c.provider),n=e.getSigner(),i=new y.CH(w.L,w.M,n);t(i)}},[c,u]);let v=async()=>{o(!0);try{let t=new p.Qg(c.provider),n=t.getSigner(),i=new y.CH(b.L,b.M,n),a=await i.approve(w.L,m.fi("1"));await a.wait();let r=await e.createChicken({gasLimit:5e6,value:m.fi("10")});s("\uD83C\uDF89 Successfully minted NFT!"),await r.wait()}catch(e){s("❌ Error minting NFT: ".concat(e.message))}finally{o(!1)}};return(0,i.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,borderRadius:2,boxShadow:1},children:[(0,i.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"Ready to hatch your chicken?"}),(0,i.jsx)(d.Z,{mt:2,children:r?(0,i.jsx)(x.Z,{color:"primary"}):(0,i.jsx)(g.Z,{variant:"contained",color:"primary",size:"large",onClick:v,children:"Mint ChickenNFT"})}),n&&(0,i.jsx)(d.Z,{mt:2,children:n.startsWith("\uD83C\uDF89")?(0,i.jsx)(f.Z,{severity:"success",children:n}):(0,i.jsx)(f.Z,{severity:"error",children:n})})]})};var j=n(5800),T=n(381),Z=n.n(T);n(3704);var D=n(8703);let M=e=>{let{chicken:t,isLoading:n}=e,[s,r]=(0,a.useState)(!1),[o,u]=(0,a.useState)(!1),[c,v]=(0,a.useState)(null),{active:j,account:T,library:M}=(0,h.Ge)(),C=async()=>{r(!0);try{let e=new p.Qg(M.provider),n=new y.CH(w.L,w.M,e.getSigner()),i=new y.CH(b.L,b.M,e.getSigner()),a=await i.approve(w.L,m.fi("1"));await a.wait();let s=await n.hatchEgg(t.tokenId,{gasLimit:5e6});await s.wait(),r(!1),u(!0)}catch(e){r(!1),v(e.message||"An error occurred!")}};return(0,i.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",boxShadow:3,justifyContent:"center"},children:Z()(t.nextEggMintedTime).diff(Z()().unix())>0?(0,i.jsx)(l.Z,{variant:"body1",gutterBottom:!0,children:"Your chicken is not ready to hatch!"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{variant:"body1",gutterBottom:!0,children:"or ready to hatch an egg?"}),(0,i.jsxs)(g.Z,{variant:"contained",startIcon:n?(0,i.jsx)(x.Z,{size:24}):(0,i.jsx)(l.Z,{children:"\uD83D\uDC23"}),color:"primary",disabled:s,onClick:C,children:["Hatch Egg",s&&(0,i.jsx)(x.Z,{size:24,sx:{ml:1}})]}),(0,i.jsx)(D.Z,{open:o,autoHideDuration:6e3,onClose:()=>u(!1),children:(0,i.jsx)(f.Z,{onClose:()=>u(!1),severity:"success",sx:{width:"100%"},children:"Congratulations! Your egg has been hatched! \uD83D\uDC23"})}),(0,i.jsx)(D.Z,{open:!!c,autoHideDuration:6e3,onClose:()=>v(null),children:(0,i.jsx)(f.Z,{onClose:()=>v(null),severity:"error",sx:{width:"100%"},children:c})})]})})},C=e=>{let{chicken:t,onMintEgg:n,isLoading:s}=e,[r,o]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1),[p,y]=(0,a.useState)(null),{active:m,account:f,library:w}=(0,h.Ge)();return(0,i.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",boxShadow:3,justifyContent:"center"},children:[Z()(t.nextEggMintedTime).diff(Z()().unix())>0?(0,i.jsx)(l.Z,{children:"Your chicken is not reeady to lay an egg!"}):(0,i.jsx)(l.Z,{children:t.isAlive?"You can mint an egg now!":""}),(0,i.jsx)(g.Z,{variant:"contained",startIcon:s?(0,i.jsx)(x.Z,{size:24}):(0,i.jsx)(l.Z,{children:"\uD83E\uDD5A"}),onClick:n,disabled:!t.isAlive||s||Z()(t.nextEggMintedTime).diff(Z()().unix())>0,children:t.isAlive?s?"Minting...":"Mint Egg":"Chicken is Dead"})]})},E=e=>{let{chicken:t,onMintEgg:n,isLoading:a}=e;return(0,i.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",m:2,p:2,boxShadow:3},children:[(0,i.jsx)(l.Z,{style:{fontSize:50},children:"\uD83D\uDC14"}),(0,i.jsxs)(l.Z,{children:["Chicken #",t.tokenId]}),t.isAlive?(0,i.jsx)(l.Z,{children:"\uD83D\uDC14 Alive"}):(0,i.jsx)(l.Z,{children:"\uD83D\uDC80 Dead"}),Z()(t.nextEggMintedTime).diff(Z()().unix())>0?(0,i.jsxs)(l.Z,{children:["Next action in:"," ",Z().duration(1e3*Z()(t.nextEggMintedTime).diff(Z()().unix())).format("h [hrs], m [min], s [secs]")]}):(0,i.jsx)(l.Z,{children:"Your chicken is ready for egg-tion!"}),(0,i.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)(C,{chicken:t,onMintEgg:n,isLoading:a}),(0,i.jsx)(M,{chicken:t,isLoading:a})]})]})},S=()=>{let{active:e,account:t,library:n}=(0,h.Ge)(),[s,r]=(0,a.useState)(""),[o,u]=(0,a.useState)([]),[c,m]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{c.length>0&&c.forEach(e=>{j.Z.loadNfts(n,w.L,t).then(e=>{x(e)})})},5e3);return()=>clearInterval(e)},[c,n,t]),(0,a.useEffect)(()=>{let i=async()=>{if(e&&t){let e=await j.Z.loadNfts(n,w.L,t),i=await x(e);u(i)}};i()},[e,t]);let x=async e=>{let t=new p.Qg(n.provider),i=new y.CH(w.L,w.M,t),a=await Promise.all(e.map(async e=>{let t=await i.getChickenDetails(e.tokenId);return console.log("chicken",t),{...e,isAlive:!t.isDead,nextEggMintedTime:Number(t.nextEggMintedTime)}}));return a},g=async e=>{try{let t=new p.Qg(n.provider),i=new y.CH(w.L,w.M,t.getSigner()),a=await i.mintEgg(e,{gasLimit:5e6});await a.wait(),r("\uD83C\uDF89 Successfully minted 1 EGG!"),c.includes(e)||m(t=>[...t,e])}catch(e){console.log(e),r(function(e){let t="reverted with reason string '";if(e.includes(t)){let n=e.indexOf(t)+t.length,i=e.indexOf("'",n);return e.substring(n,i)}return"null"}(e.message))}};return(0,i.jsxs)(d.Z,{children:[s&&(0,i.jsx)(l.Z,{variant:"body1",children:s}),(0,i.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:2,mb:4,alignItems:"center",justifyContent:t&&o&&o.length>0?"flex-start":"center"},children:[(0,i.jsx)("br",{}),t&&o&&o.length>0?o.map(e=>(0,i.jsx)(E,{chicken:e,onMintEgg:()=>g(e.tokenId)},e.tokenId)):(0,i.jsx)(l.Z,{variant:"h6",color:"textSecondary",children:"\uD83E\uDD7A You have no chickens."})]})]})};var k=n(1664),F=n.n(k);function A(){let{active:e,account:t,library:n}=(0,h.Ge)(),[s,x]=(0,a.useState)(null);async function g(){let e=new p.Qg(n.provider),t=new y.CH(b.L,b.M,e),i=await t.totalSupply();x(i=m.dF(i))}return(0,a.useEffect)(()=>{t&&n.provider&&g()},[t,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"Eggspedition: The Eggciting Journey!"}),(0,i.jsx)("meta",{name:"description",content:"Embark on the ultimate eggventure in the world of web3 games."}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(o.Z,{maxWidth:"md",children:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{variant:"h1",children:"Your Eggspedition! "}),(0,i.jsx)(l.Z,{variant:"h5",gutterBottom:!0,children:"Dive into the eggciting multiverse, where chickens reign supreme and treasures await."}),(0,i.jsx)(u.Z,{title:"This is the total amount of eggs in the Eggspedition universe!",children:(0,i.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:["\uD83E\uDD5A Total Eggs in the Universe: ",(0,i.jsx)("strong",{children:s})]})}),(0,i.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"Ready for a new chicken companion?"}),(0,i.jsxs)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:[(0,i.jsx)(v,{}),(0,i.jsxs)(l.Z,{variant:"body2",align:"center",gutterBottom:!0,children:["You can mint a ChickenNFT with 1 EGGS and 10 SMR. Questions? Check our"," ",(0,i.jsx)(F(),{href:"info",children:"FAQ cove"}),"."]})]}),(0,i.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"Your Eggspeditioner Chickens:"}),(0,i.jsx)(d.Z,{sx:{bgcolor:"primary",borderRadius:2,boxShadow:1,overflow:"hidden",my:4,position:"relative",p:2},children:(0,i.jsx)(S,{})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{variant:"h3",gutterBottom:!0,children:"Welcome new farmer!"}),(0,i.jsx)(l.Z,{variant:"body1",gutterBottom:!0,children:"Please connect your wallet to continue."})]})})})]})}}},function(e){e.O(0,[4885,5861,7739,1262,7940,7910,755,2609,1486,6581,6231,4646,9774,2888,179],function(){return e(e.s=8526)}),_N_E=e.O()}]);