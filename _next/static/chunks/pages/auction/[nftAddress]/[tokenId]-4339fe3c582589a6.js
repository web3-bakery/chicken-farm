(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1903:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var i,a=n(7462),r=n(3366),s=n(7294),d=n(3961),o=n(5463),l=n(414),u=n(948),c=n(1657),p=n(89),y=n(8288),m=n(7058),f=n(3841),h=n(4054),g=n(5704),T=n(4423),v=n(8216),x=n(5154),w=n(2104);function A(e){return(0,w.Z)("MuiFormHelperText",e)}let b=(0,x.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _=n(5893);let N=["children","className","component","disabled","error","filled","focused","margin","required","variant"],j=e=>{let{classes:t,contained:n,size:i,disabled:a,error:r,filled:s,focused:d,required:l}=e,u={root:["root",a&&"disabled",r&&"error",i&&`size${(0,v.Z)(i)}`,n&&"contained",d&&"focused",s&&"filled",l&&"required"]};return(0,o.Z)(u,A,t)},S=(0,u.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,v.Z)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>(0,a.Z)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${b.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${b.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),C=s.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiFormHelperText"}),{children:s,className:o,component:l="p"}=n,u=(0,r.Z)(n,N),p=(0,T.Z)(),y=(0,g.Z)({props:n,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),m=(0,a.Z)({},n,{component:l,contained:"filled"===y.variant||"outlined"===y.variant,variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required}),f=j(m);return(0,_.jsx)(S,(0,a.Z)({as:l,ownerState:m,className:(0,d.Z)(f.root,o),ref:t},u,{children:" "===s?i||(i=(0,_.jsx)("span",{className:"notranslate",children:"â€‹"})):s}))});var M=n(315);function Z(e){return(0,w.Z)("MuiTextField",e)}(0,x.Z)("MuiTextField",["root"]);let k=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],I={standard:p.Z,filled:y.Z,outlined:m.Z},B=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},Z,t)},W=(0,u.ZP)(h.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),H=s.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:u,color:p="primary",defaultValue:y,disabled:m=!1,error:h=!1,FormHelperTextProps:g,fullWidth:T=!1,helperText:v,id:x,InputLabelProps:w,inputProps:A,InputProps:b,inputRef:N,label:j,maxRows:S,minRows:Z,multiline:H=!1,name:O,onBlur:P,onChange:E,onFocus:F,placeholder:R,required:z=!1,rows:L,select:q=!1,SelectProps:Y,type:U,value:$,variant:D="outlined"}=n,V=(0,r.Z)(n,k),X=(0,a.Z)({},n,{autoFocus:s,color:p,disabled:m,error:h,fullWidth:T,multiline:H,required:z,select:q,variant:D}),J=B(X),G={};"outlined"===D&&(w&&void 0!==w.shrink&&(G.notched=w.shrink),G.label=j),q&&(Y&&Y.native||(G.id=void 0),G["aria-describedby"]=void 0);let K=(0,l.Z)(x),Q=v&&K?`${K}-helper-text`:void 0,ee=j&&K?`${K}-label`:void 0,et=I[D],en=(0,_.jsx)(et,(0,a.Z)({"aria-describedby":Q,autoComplete:i,autoFocus:s,defaultValue:y,fullWidth:T,multiline:H,name:O,rows:L,maxRows:S,minRows:Z,type:U,value:$,id:K,inputRef:N,onBlur:P,onChange:E,onFocus:F,placeholder:R,inputProps:A},G,b));return(0,_.jsxs)(W,(0,a.Z)({className:(0,d.Z)(J.root,u),disabled:m,error:h,fullWidth:T,ref:t,required:z,color:p,variant:D,ownerState:X},V,{children:[null!=j&&""!==j&&(0,_.jsx)(f.Z,(0,a.Z)({htmlFor:K,id:ee},w,{children:j})),q?(0,_.jsx)(M.Z,(0,a.Z)({"aria-describedby":Q,id:K,labelId:ee,value:$,input:en},Y,{children:o})):en,v&&(0,_.jsx)(C,(0,a.Z)({id:Q},g,{children:v}))]}))});var O=H},4863:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auction/[nftAddress]/[tokenId]",function(){return n(2266)}])},2266:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var i=n(5893),a=n(4146),r=n(5553),s=n(7294),d=n(1163),o=n(3123),l=n(8617),u=n(7372),c=n(139),p=n(9008),y=n.n(p),m=n(7932),f=n(6822),h=n(5861),g=n(1903),T=n(9417);let{useChainId:v,useAccounts:x,useIsActivating:w,useIsActive:A,useProvider:b,useENSNames:_}=u.P;function N(){var e,t;let n=b(),u=x(),{showNotification:p}=(0,o.l)(),v=(0,d.useRouter)(),{nftAddress:w,tokenId:A}=v.query,[_,N]=(0,s.useState)(""),[j,S]=(0,s.useState)(""),[C,M]=(0,s.useState)(""),[Z,k]=(0,s.useState)([]),[I,B]=(0,s.useState)(""),[W,H]=(0,s.useState)(0),[O,P]=(0,s.useState)(!0),[E,F]=(0,s.useState)(!1),[R,z]=(0,s.useState)(!1),[L,q]=(0,s.useState)(!0),[Y,U]=(0,s.useState)(""),[$,D]=(0,s.useState)(""),[V,X]=(0,s.useState)(""),[J,G]=(0,s.useState)(""),[K,Q]=(0,s.useState)({auctions:[{currentPrice:"",nftSeller:""}]}),ee=async()=>{if(q(!0),!n)return;console.log("fetchAuctions"),console.log("nftAddress",w),console.log("tokenId",A);let e=new a.CH(l.L,l.M,n),t=await e.nftContractAuctions(w,A);console.log("auctionDetails",t),X(t.currentWinner);let i=new Set;try{let t=0;for(;;){let n=await e.getSpecificAddress(w,A,t);i.add(n),t++}}catch(e){}let s=Array.from(i),d=s.map(async t=>{let n=await e.getBidOfAnAddress(w,A,t);return{tokenId:A,bidder:t,bidAmount:r.formatEther(n)}}),o=await Promise.all(d);k(e=>[...o]),console.log("auctionOngoing",await e.getStateOfAuction(w,A));let u=await et();console.log("The TokenURI is ".concat(u));let c=await en();console.log("The starting time is ".concat(c));let p=await er();console.log("The duration of auction is ".concat(p));let y=Math.round(Date.now()/1e3);console.log("The current time is ".concat(y)),console.log("The auction will end at ".concat(c+p)),H(Number(c)+Number(p)),Number(c)+Number(p)<Number(y)?(P(!0),console.log("auctionEnded: TRUE")):(P(!1),console.log("auctionEnded: FALSE"));let m=await es();console.log("seller ".concat(m)),console.log("account",$),$==m?F(!0):F(!1);let f=await ei();console.log("winner ".concat(f)),console.log("account ".concat($)),$==f?z(!0):z(!1);let h=await ea();Q({auctions:[{currentPrice:h,nftSeller:m}]}),q(!1)},et=async()=>{console.log("getTokenURI")},en=async()=>{console.log("getStartingTime");let e=new a.CH(l.L,l.M,n),t=await e.getStartingTimeOfAuction(w,A);return console.log("startingTimeOfAuction",t),t},ei=async()=>{console.log("getWinnerOfAuction");let e=new a.CH(l.L,l.M,n),t=await e.getCurrentWinner(w,A);return console.log("currentWinner",t),t},ea=async()=>{console.log("getTemporaryHighestBid");let e=new a.CH(l.L,l.M,n),t=await e.getTemporaryHighestBid(w,A);return console.log("currentWinner",t),t},er=async()=>{console.log("getAuctionInterval");let e=new a.CH(l.L,l.M,n),t=await e.getIntervalOfNftAuction(w,A);return console.log("intervalOfNftAuction",t),t},es=async()=>{console.log("getSellerOfTheNft");let e=new a.CH(l.L,l.M,n),t=await e.getSellerOfTheNft(w,A);return console.log("sellerOfTheNft",t),t};async function ed(){console.log("MakeBid",Y);let e=r.parseUnits(Y,"ether").toString();console.log("msgVal",e);let t=new a.CH(l.L,l.M,null==n?void 0:n.getSigner());eo(await t.makeBid(w,A,{value:e}))}async function eo(e){await e.wait(1),console.log("Bid Initialized. Please wait for about 30 seconds to see your bid in Bids Section  of this nft"),p("Bid has been placed","success"),ee()}async function el(){console.log("Withdrawing Winning Bid");let e=new a.CH(l.L,l.M,null==n?void 0:n.getSigner());eu(await e.withdrawWinningBid(w,A))}async function eu(e){await e.wait(1),console.log("You have received the winning bid in your wallet"),p("Your have received the winning bid in your wallet","success")}async function ec(){console.log("Withdrawing Nft after unsuccesful Auction"),console.log("Claiming Nft after Winning Auction");let e=new a.CH(l.L,l.M,null==n?void 0:n.getSigner());ep(await e.withdrawNft(w,A))}async function ep(e){await e.wait(1),console.log("You have received the nft in your wallet as the auction ended without no bids"),p("You have received the nft","success")}async function ey(){console.log("Claiming Nft after Winning Auction");let e=new a.CH(l.L,l.M,null==n?void 0:n.getSigner());em(await e.receiveNft(w,A))}async function em(e){await e.wait(1),console.log("You have received the nft in your wallet as the as your made the highest winning bid"),p("You have reeeived the nft","success")}return(0,s.useEffect)(()=>{n&&u&&(null==u?void 0:u.length)>0&&(D(u[0]),console.log("sdsd"))},[u,n]),(0,s.useEffect)(()=>{$&&ee()},[$]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y(),{children:(0,i.jsx)("title",{children:"Chicken Detail"})}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(m.Z,{maxWidth:"md",children:(0,i.jsxs)("div",{className:"container mx-auto",children:[(0,i.jsx)("h1",{className:"py-12 px-4 font-bold text-2xl  ml-auto",children:"The details of the Nft"}),(0,i.jsx)("div",{className:"flex flex-wrap",children:n?L||!K?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsxs)("div",{style:{minHeight:"80vh"},children:[(0,i.jsxs)("div",{className:"flex ml-20 mt-20",children:[(0,i.jsx)("img",{src:_,alt:"",className:"w-2/5"}),(0,i.jsxs)("div",{className:"text-xl text-white ml-20 space-y-8 text-black shadow-2xl rounded-lg border-2 p-5 bg-[#16de66]",children:[O?(0,i.jsx)("span",{children:"Auction has ended"}):(0,i.jsxs)("span",{children:["Time left: ",J]}),(0,i.jsxs)("div",{children:["Current Price:"," ",(0,i.jsx)("span",{className:"",children:r.formatUnits(null===(e=null==K?void 0:K.auctions[0])||void 0===e?void 0:e.currentPrice,"ether")})]}),(0,i.jsxs)("div",{children:["Nft Owner:"," ",(0,i.jsx)("span",{className:"text-sm",children:null===(t=null==K?void 0:K.auctions[0])||void 0===t?void 0:t.nftSeller})]}),(0,i.jsxs)("div",{children:["Current Winner:"," ",(0,i.jsx)("span",{className:"text-sm",children:V})]}),(0,i.jsxs)("div",{children:["Auction Ended:"," ",(0,i.jsx)("span",{className:"text-sm",children:O?"True":"False"})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:O?(0,i.jsx)("div",{children:"This Auction has Ended"}):(0,i.jsxs)(f.Z,{component:"form",onSubmit:ed,noValidate:!0,autoComplete:"off",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[(0,i.jsx)(h.Z,{variant:"h6",gutterBottom:!0,children:"Make A Bid"}),(0,i.jsx)(g.Z,{label:"Bid Price In Eth",type:"number",value:Y,onChange:e=>U(e.target.value),fullWidth:!0}),(0,i.jsx)(T.Z,{type:"submit",variant:"contained",color:"secondary",children:"Submit Bid"})]})})})]}),(0,i.jsxs)("div",{className:"flex",children:[L?(0,i.jsx)("div",{children:"loading bits..."}):null==Z?void 0:Z.map(e=>{let{bidder:t,bidAmount:n}=e;return(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["bidder: ",t]}),(0,i.jsxs)("li",{children:["bidAmount: ",n]})]})}),O?E?(0,i.jsxs)("div",{className:"ml-auto ",children:[(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(T.Z,{size:"large",color:"primary",variant:"contained",onClick:el,children:"Withdraw Winning Bid"})}),(0,i.jsx)("div",{children:(0,i.jsx)(T.Z,{size:"large",variant:"contained",color:"primary",onClick:ec,children:"Withdraw Nft"})})]}):R?(0,i.jsx)("div",{className:"ml-auto mt-6 ",children:(0,i.jsx)(T.Z,{size:"large",variant:"contained",color:"primary",onClick:ey,children:"Claim Your Nft"})}):(0,i.jsx)("div",{children:" was? "}):(0,i.jsx)("div",{children:" was 2?"})]}),(0,i.jsxs)("p",{children:["isAuctionWinner: ",R?"true":"false"]})]}):(0,i.jsx)("div",{children:"Web3 Currently Not Enabled"})})]})})})]})}},8617:function(e){"use strict";e.exports=JSON.parse('{"M":[{"inputs":[],"name":"Auction__AuctionDontHaveBids","type":"error"},{"inputs":[],"name":"Auction__AuctionHasEnded","type":"error"},{"inputs":[],"name":"Auction__AuctionHaveBids","type":"error"},{"inputs":[],"name":"Auction__AuctionNotEndedYet","type":"error"},{"inputs":[],"name":"Auction__NotAuctionNftSeller","type":"error"},{"inputs":[],"name":"Auction__NotAuctionWinner","type":"error"},{"inputs":[],"name":"Auction__NotNftOwner","type":"error"},{"inputs":[],"name":"Auction__SendMoreToMakeBid","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"nftAdress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftSellerAdress","type":"address"},{"indexed":false,"internalType":"uint256","name":"minprice","type":"uint256"},{"indexed":false,"internalType":"uint32","name":"interval","type":"uint32"}],"name":"AuctionInitialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"nftAdress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"bidMakerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"BidMade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"nftAdress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftsellerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"winningBid","type":"uint256"}],"name":"ReceiveWinningBidAfterAuction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"nftAdress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftWinnerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"finalPrice","type":"uint256"}],"name":"WinNftAfterAuction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"nftAdress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftsellerAddress","type":"address"}],"name":"WithdrawNftAfterAuctionUnsuccesful","type":"event"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_minPrice","type":"uint256"},{"internalType":"uint32","name":"interval","type":"uint32"}],"name":"InitializeAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"activeAuctions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveAuctions","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"sender","type":"address"}],"name":"getAmountFundedByAnAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getBeginningPriceOfTheNft","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"sender","type":"address"}],"name":"getBidOfAnAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getCurrentWinner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getIntervalOfNftAuction","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getSellerOfTheNft","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getSpecificAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getStartingTimeOfAuction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getStateOfAuction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getTemporaryHighestBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"makeBid","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"nftContractAuctions","outputs":[{"internalType":"uint32","name":"i_interval","type":"uint32"},{"internalType":"uint256","name":"minPrice","type":"uint256"},{"internalType":"uint256","name":"s_lastTimeStamp","type":"uint256"},{"internalType":"uint256","name":"temporaryHighestBid","type":"uint256"},{"internalType":"address payable","name":"currentWinner","type":"address"},{"internalType":"address","name":"nftSeller","type":"address"},{"internalType":"bool","name":"auctionStarted","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"receiveNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"withdrawNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_nftContractAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"withdrawWinningBid","outputs":[],"stateMutability":"nonpayable","type":"function"}],"L":"0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9"}')}},function(e){e.O(0,[881,453,146,959,241,774,888,179],function(){return e(e.s=4863)}),_N_E=e.O()}]);